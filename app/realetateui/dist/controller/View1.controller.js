sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,i){"use strict";return e.extend("realetateui.controller.View1",{onFileChange:function(e){const t=e.getParameter("files")[0];if(!t)return;const i=new FileReader;i.onload=e=>{const t=this.byId("siteMapImage");t.setSrc(e.target.result);t.setVisible(true);setTimeout(()=>{const e=t.getDomRef();if(e&&!e._clickAttached){e.addEventListener("click",this.onImageClick.bind(this));e._clickAttached=true}},200)};i.readAsDataURL(t)},onAfterRendering:function(){const e=this.byId("previewImage");const t=e.getDomRef();if(t&&!t._clickAttached){t.addEventListener("click",this.onImageClick.bind(this));t._clickAttached=true}},onUploadPress:function(){var e=new sap.ui.unified.FileUploader({uploadUrl:"",change:function(e){var t=e.getParameter("files")[0];if(t){var i=new FileReader;i.onload=function(e){var t=e.target.result;this.byId("previewImage").setSrc(t);this.byId("previewImage").setVisible(true)}.bind(this);i.readAsDataURL(t)}}.bind(this)});e.openFileDialog()},onImageClick:function(e){const n=e.currentTarget;const a=n.getBoundingClientRect();const s=e.clientX-a.left;const o=e.clientY-a.top;const c=s/a.width*100;const r=o/a.height*100;console.log(`Clicked at: X: ${c.toFixed(2)}%, Y: ${r.toFixed(2)}%`);const l=[{name:"Villa A",price:"1.2M USD",status:"Available",xMin:10,xMax:30,yMin:20,yMax:40},{name:"Villa B",price:"1.5M USD",status:"Sold",xMin:40,xMax:60,yMin:10,yMax:30}];const d=l.find(e=>c>=e.xMin&&c<=e.xMax&&r>=e.yMin&&r<=e.yMax);if(d){i.information(`${d.name}\nðŸ’° Price: ${d.price}\nðŸ“¦ Status: ${d.status}`)}else{t.show("No unit info at this point.")}}})});
//# sourceMappingURL=View1.controller.js.map